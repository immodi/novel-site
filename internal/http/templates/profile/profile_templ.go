// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package profile

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"immodi/novel-site/internal/http/components/index"
	"immodi/novel-site/internal/http/components/profile"
	"immodi/novel-site/internal/http/structs/index"
	"immodi/novel-site/internal/http/structs/profile"
)

func Profile(
	user *profiledtostructs.ProfileDto,
	bookmarkedNovels []indexdtostructs.HomeNovelDto,
	currentPage int,
	totalPages int,
) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"w-full bg-[#121212] dark:bg-white text-gray-100 dark:text-gray-900 min-h-screen\"><!-- Profile Header --><div class=\"w-full bg-gray-900 dark:bg-gray-100 py-8\"><div class=\"container max-w-7xl mx-auto px-4\"><div class=\"flex flex-col md:flex-row items-center gap-6\"><div class=\"relative\"><img loading=\"lazy\" src=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(user.PictureURL)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 24, Col: 28}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" alt=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(user.Username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 25, Col: 26}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" class=\"w-32 h-32 rounded-full object-cover\" id=\"profileImage\"> <button type=\"button\" id=\"editProfileBtn\" class=\"cursor-pointer absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-2 transition-colors\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"cursor-pointer h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"></path></svg></button></div><div class=\"text-center md:text-left\"><h1 class=\"text-2xl font-bold\" id=\"usernameDisplay\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(user.Username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 51, Col: 73}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</h1><p class=\"text-gray-400 dark:text-gray-600 mt-2\">Member since ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(user.JoinDate)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 52, Col: 83}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</p></div><div class=\"cursor-pointer md:ml-auto flex gap-2\"><button id=\"logoutBtn\" class=\"cursor-pointer px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors\">Logout</button></div></div></div></div><!-- Edit Profile Form (Hidden by default) --><div id=\"editProfileForm\" class=\"hidden container max-w-7xl mx-auto px-4 py-6 bg-[#1a1a1a] dark:bg-gray-200 rounded-lg mt-4\"><h3 class=\"text-xl font-bold mb-4\">Edit Profile</h3><form id=\"profileForm\" action=\"/profile\" method=\"post\" class=\"space-y-4\"><!-- <div> --><!-- \t<label for=\"username\" class=\"block text-sm font-medium mb-1\">Username</label> --><!-- \t<input --><!-- \t\ttype=\"text\" --><!-- \t\tid=\"username\" --><!-- \t\tname=\"username\" --><!-- \t\tvalue={ user.Username } --><!-- \t\tclass=\"w-full px-3 py-2 bg-[#252525] dark:bg-white border border-[#353535] dark:border-gray-300 rounded-md text-gray-100 dark:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\" --><!-- \t\trequired --><!-- \t/> --><!-- </div> --><div><label for=\"image\" class=\"block text-sm font-medium mb-1\">Profile Picture</label> <input type=\"file\" id=\"image\" accept=\"image/*\" class=\"w-full px-3 py-2 bg-[#252525] dark:bg-white border border-[#353535] dark:border-gray-300 rounded-md text-gray-100 dark:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"> <input type=\"hidden\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 string
		templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(user.PictureURL)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 91, Col: 49}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "\" id=\"imageBase64\" name=\"image\"><p class=\"text-xs text-gray-400 dark:text-gray-600 mt-1\">Max file size: 2MB. Supported formats: JPG, PNG, GIF.</p></div><div class=\"flex justify-end gap-2\"><button type=\"button\" id=\"cancelEdit\" class=\"cursor-pointer px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors\">Cancel</button> <button type=\"submit\" class=\"cursor-pointer px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors\">Save Changes</button></div></form></div><!-- Bookmarked Novels Section --><div class=\"container max-w-7xl mx-auto px-4 py-8\"><div class=\"flex flex-col md:flex-row justify-between items-center mb-6\"><h2 class=\"text-2xl font-bold mb-4 md:mb-0\">Bookmarked Novels</h2><div class=\"flex items-center\"><!-- Optional: Add filter/sort options here if needed --></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(bookmarkedNovels) > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = components.ListNovels(bookmarkedNovels).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</div><!-- Pagination for bookmarked novels --> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = profile.ProfilePagination(currentPage, totalPages).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<div class=\"text-center py-12\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"cursor-pointer h-16 w-16 mx-auto text-gray-400 dark:text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"></path></svg><p class=\"mt-4 text-gray-400 dark:text-gray-600\">You haven't bookmarked any novels yet.</p><a href=\"/\" class=\"mt-2 inline-block text-blue-400 dark:text-blue-600 hover:underline\">Browse novels</a></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</div></div><!-- Logout Confirmation Modal --><div id=\"logoutModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50\"><div class=\"bg-[#1a1a1a] dark:bg-gray-100 rounded-lg p-6 max-w-md w-full mx-4\"><h3 class=\"text-xl text-white dark:text-black font-bold mb-4\">Confirm Logout</h3><p class=\"text-gray-400 dark:text-gray-600 mb-6\">Are you sure you want to logout?</p><div class=\"flex justify-end gap-4\"><button id=\"cancelLogout\" class=\"cursor-pointer px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors\">Cancel</button> <a href=\"/logout\" class=\"cursor-pointer px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors inline-block\">Logout</a></div></div></div><script>\n    // Edit profile functionality\n    const editProfileBtn = document.getElementById('editProfileBtn');\n    const editProfileForm = document.getElementById('editProfileForm');\n    const cancelEdit = document.getElementById('cancelEdit');\n    const profileForm = document.getElementById('profileForm');\n    const profileImage = document.getElementById('profileImage');\n    const usernameDisplay = document.getElementById('usernameDisplay');\n    const imageInput = document.getElementById('image');\n    const imageBase64Input = document.getElementById('imageBase64');\n\n    // Toggle edit form\n    editProfileBtn.addEventListener('click', function () {\n        editProfileForm.classList.toggle('hidden');\n    });\n\n    cancelEdit.addEventListener('click', function () {\n        editProfileForm.classList.add('hidden');\n        document.getElementById('username').value = \"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Var7, templ_7745c5c3_Err := templruntime.ScriptContentInsideStringLiteral(user.Username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 189, Col: 69}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var7)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\";\n        imageInput.value = \"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Var8, templ_7745c5c3_Err := templruntime.ScriptContentInsideStringLiteral(user.PictureURL)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 190, Col: 46}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var8)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "\";\n        profileImage.src = \"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Var9, templ_7745c5c3_Err := templruntime.ScriptContentInsideStringLiteral(user.PictureURL)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/profile/profile.templ`, Line: 191, Col: 46}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var9)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "\";\n    });\n\n    // Preview image before upload and convert to base64\n    imageInput.addEventListener('change', function (e) {\n        const file = e.target.files[0];\n        if (file) {\n            if (file.size > 2 * 1024 * 1024) {\n                alert('File size exceeds 2MB. Please choose a smaller image.');\n                this.value = '';\n                return;\n            }\n\n            const reader = new FileReader();\n            reader.onload = function (event) {\n                profileImage.src = event.target.result;\n                imageBase64Input.value = event.target.result;\n            };\n            reader.readAsDataURL(file);\n        }\n    });\n\n    // Logout confirmation functionality\n    document.getElementById('logoutBtn').addEventListener('click', function () {\n        document.getElementById('logoutModal').classList.remove('hidden');\n    });\n\n    document.getElementById('cancelLogout').addEventListener('click', function () {\n        document.getElementById('logoutModal').classList.add('hidden');\n    });\n\n    // Close modal when clicking outside\n    document.getElementById('logoutModal').addEventListener('click', function (e) {\n        if (e.target.id === 'logoutModal') {\n            document.getElementById('logoutModal').classList.add('hidden');\n        }\n    });\n</script><style>\n    .line-clamp-1 {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n    }\n\n    .line-clamp-2 {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n    }\n</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
