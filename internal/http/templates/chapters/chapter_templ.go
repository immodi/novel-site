// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package chapters

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "immodi/novel-site/internal/http/structs/chapters"
import "immodi/novel-site/internal/http/components/chapters"

func ChapterReader(ch chaptersdtostructs.ChapterPage) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"w-full flex justify-center bg-[#121212] dark:bg-white min-h-screen\"><div class=\"w-full px-4 sm:px-6 lg:px-8 py-8\"><!-- Title --><h1 class=\"text-2xl sm:text-3xl font-bold text-center text-gray-100 dark:text-gray-900 mb-3\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(ch.ChapterTitle)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/chapters/chapter.templ`, Line: 11, Col: 21}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</h1><p class=\"text-center text-gray-400 dark:text-gray-600 mb-8\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(ch.NovelName)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/chapters/chapter.templ`, Line: 14, Col: 18}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</p><!-- Navigation (top) -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = chapters.NavigationButtons(&ch).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<!-- Content --><div id=\"chapter-content\" class=\"prose prose-invert dark:prose max-w-none mb-8 w-full leading-relaxed text-gray-200 dark:text-gray-800 rounded-lg p-6 bg-[#1a1a1a] dark:bg-gray-100 border border-[#252525] dark:border-[#ededed] whitespace-pre-line\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(ch.ChapterContent)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/http/templates/chapters/chapter.templ`, Line: 23, Col: 23}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</div><!-- Navigation (bottom) -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = chapters.NavigationButtons(&ch).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</div><!-- Back to Top Button --><button id=\"backToTop\" onclick=\"window.scrollTo({ top: 0, behavior: 'smooth' })\" class=\"hidden fixed bottom-6 right-6 z-50 p-3 rounded-full shadow-lg bg-[#252525] dark:bg-gray-300 text-gray-100 dark:text-gray-800 hover:bg-[#353535] dark:hover:bg-gray-400 transition-all duration-300\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 15l7-7 7 7\"></path></svg></button><script>\n        // Fade in/out Back to Top button\n        window.addEventListener(\"scroll\", () => {\n            const btn = document.getElementById(\"backToTop\");\n            if (window.scrollY > 200) {\n                btn.classList.remove(\"hidden\");\n                btn.classList.add(\"opacity-100\");\n            } else {\n                btn.classList.remove(\"opacity-100\");\n                btn.classList.add(\"hidden\");\n            }\n        });\n    </script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = ContentSettingsScript().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func ContentSettingsScript() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var5 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var5 == nil {
			templ_7745c5c3_Var5 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<script>\n    document.addEventListener(\"DOMContentLoaded\", () => {\n        const content = document.querySelector(\"#chapter-content\");\n\n        // Font size\n        document.querySelectorAll(\".font-size\").forEach(btn => {\n            btn.addEventListener(\"change\", (e) => {\n                content.classList.remove(\"text-base\", \"text-lg\", \"text-xl\");\n                content.classList.add(e.target.value);\n                localStorage.setItem(\"font-size\", e.target.value);\n                reload()\n            });\n        })\n\n        // Line height slider\n        const lineHeightSlider = document.querySelectorAll(\".line-height\");\n        const lineHeightValue = document.querySelectorAll(\".line-height-value\");\n\n\n        for (let i = 0; i < lineHeightSlider.length; i++) {\n            lineHeightSlider[i].addEventListener(\"input\", (e) => {\n                const value = e.target.value;\n                lineHeightValue[i].textContent = value + \"%\";\n                content.style.lineHeight = value + \"%\";\n                localStorage.setItem(\"line-height\", value);\n                reload()\n            });\n        }\n\n        // Load settings from localStorage\n        const savedFont = localStorage.getItem(\"font-size\");\n        const savedLineHeight = localStorage.getItem(\"line-height\");\n        if (savedFont) {\n            content.classList.remove(\"text-base\", \"text-lg\", \"text-xl\");\n            content.classList.add(savedFont);\n            document.querySelectorAll(\".font-size\").forEach(d => d.value = savedFont);\n        }\n        if (savedLineHeight) {\n            content.style.lineHeight = savedLineHeight + \"%\";\n            lineHeightSlider.forEach(d => d.value = savedLineHeight);\n            lineHeightValue.forEach(d => d.textContent = savedLineHeight + \"%\");\n        }\n\n        function reload() {\n            let font = localStorage.getItem(\"font-size\");\n            let lineHeight = localStorage.getItem(\"line-height\");\n            document.querySelectorAll(\".font-size\").forEach(d => d.value = font);\n            lineHeightSlider.forEach(d => d.value = lineHeight);\n            lineHeightValue.forEach(d => d.textContent = lineHeight + \"%\");\n        }\n    });\n</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
